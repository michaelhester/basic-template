"use strict";function geoSearch(){geoUl.style("display","block");var e=geoInput.node().value.toUpperCase(),o=!1;geoLi.each(function(n,t){var a=d3.select(this);a.text().toUpperCase().startsWith(e)?(a.style("display",""),o=!0):a.style("display","none")}),o||geoUl.style("display","none")}function initGeoSearch(){geoUl.selectAll("li").remove(),geoInput.node().value="Yoga",geoSearchItems.forEach(function(e){geoUl.append("li").text(geoSearchDict[e]).attr("id",e).on("click",function(){geoSearchDict[e]!=geoHighlighted&&(geoImg.attr("src","assets/imgs/"+e+".png"),geoInput.node().value=geoSearchDict[e],geoHighlighted=geoSearchDict[e]),geoUl.style("display","none")})}),geoLi=geoUl.selectAll("li"),geoOverlay.on("click",function(){geoInput.node().value=geoHighlighted,geoUl.style("display","none")}),geoInput.on("click",function(){geoInput.node().value="",geoSearch()}).on("keyup",function(){geoSearch()})}function getData(){var e=d3.csv("assets/data/sample_file.csv").then(function(e){return e});Promise.all([e]).then(function(e){cleanedData=cleanData(e[0]),nestedData=nestData(cleanedData),resizeGeneral()})}function cleanData(e){return e}function nestData(e){return e}function resizeGeneral(){windowW=window.innerWidth,windowH=window.innerHeight,isDesktop=!1,isTablet=!1,isMobile=!1,windowW>=1e3?isDesktop=!0:windowW>=764?isTablet=!0:isMobile=!0}var geoOverlay=d3.select("#geocluster-interactive-overlay"),geoInput=d3.select("#geocluster-search"),geoUl=d3.select("#geocluster-ul"),geoLi,geoMap=d3.select("#geocluster-map-container"),geoMapCover=geoMap.select("#geocluster-map-cover"),geoImg=geoMap.select("img"),geoSearchItems=["cajun","churches","farming-equipment","italian","mexican","pool_cleaners","snow_removal","sportsbars","synagogues","yoga"],geoSearchDict={cajun:"Cajun",churches:"Churches","farming-equipment":"Farming Equipment",italian:"Italian",mexican:"Mexican",pool_cleaners:"Pool Cleaners",snow_removal:"Snow Removal",sportsbars:"Sportsbars",synagogues:"Synagogues",yoga:"Yoga"},geoHighlighted="Yoga";initGeoSearch();var cleanedData,nestedData,windowW,windowH,previousWidth=0,isDesktop=!1,isTablet=!1,isMobile=!1;window.addEventListener("resize",function(){var e=window.innerWidth;previousWidth!==e&&(previousWidth=e,resizeGeneral())});